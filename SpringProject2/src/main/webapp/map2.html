<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>naver map</title>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"> <!-- 인코딩 추가 부분 -->
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=ysm1xdk1wk"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=104f90e3976f1820f120da408f94509c"></script>
	<div id="map" style="width:900px;height:700px;"></div>
	<script>
	
	var container = document.getElementById('map');
	
	var options = {
		center: new kakao.maps.LatLng(33.450701, 126.570667),
		level: 3
	};

	var map = new kakao.maps.Map(container, options);
	
	map.setMapTypeId(kakao.maps.MapTypeId.HYBRID); //위성지도로 변환
	
	if (navigator.geolocation) { // geolocation이 된다면
	    
	    // 현재 위치 가져오기
	    navigator.geolocation.getCurrentPosition(function(position) {
	        
	        var lat = position.coords.latitude; // 위도
	        var lon = position.coords.longitude; // 경도
	        
	        var locPosition = new kakao.maps.LatLng(lat, lon);  // 위경도를 저장
	        
	        var marker = new kakao.maps.Marker({
	            map: map,
	            position: new kakao.maps.LatLng(lat, lon)  // 위경도에 마커표시
	        });
	       
	        map.setCenter(locPosition);  // 지도 위치 이동  
	        
	        // 지도 클릭 시 마커 표시
	        kakao.maps.event.addListener(map, 'click', function(mouseEvent) {        
		        
	  	      var latlng = mouseEvent.latLng;  // 클릭한 위도, 경도 
	  	      
	  	      marker.setPosition(latlng);  // 마커 표시
	  	      
///////////// 확인용
	        console.log(lat,lon);
	        console.log(latlng.getLat(), latlng.getLng());
	  	 });
	        
	     });
	
	} else { //geolocation이 안된다면
	    
		// CGI센터 위도경도
	    var locPosition = new kakao.maps.LatLng(35.11094028294195, 126.87738641325913);  
	        
  	    displayMarker(locPosition);
	}
	
	</script>
</body>
</html>